?K
install.packages("tidyverse")
?rgamma
library(tidyverse)
library(ggplot2)
x <- runif(n=1000,
min=0,
max=10)
y <- 3*x^2 + rgamma(n=length(x),
shape = 2,
rate = 2)
plot(x, y)
y <- 3*x^2 + rgamma(n=length(x),
shape = 5,
rate = 2)
plot(x, y)
x <- runif(n=1000,
min=0,
max=1)
y <- 3*x^2 + rgamma(n=length(x),
shape = 5,
rate = 2)
plot(x, y)
x <- runif(n=1000,
min=0,
max=5)
y <- 3*x^2 + rgamma(n=length(x),
shape = 5,
rate = 2)
plot(x, y)
x <- runif(n=1000,
min=0,
max=1)
y <- 3*x^2 + rgamma(n=length(x),
shape = 5,
rate = 2)
plot(x, y)
y <- 3*x^2 + rgamma(n=length(x),
shape = 10,
rate = 2)
plot(x, y)
y <- 3*x^2 + rgamma(n=length(x),
shape = 1,
rate = 2)
plot(x, y)
x <- runif(n=5000,
min=0,
max=1)
y <- 3*x^2 + rgamma(n=length(x),
shape = 1,
rate = 2)
plot(x, y)
print('hi')
sapply(seq(0, 1, by = .1), function(y) {
CondQuant(alpha = c(.1, .5), x0 = y, zGrid = seq(0, 7, by = .1), z = dat$z, x = dat$x, bw.z = .1, bw.x = .05)
})
source('CondQuant.R')
sapply(seq(0, 1, by = .1), function(y) {
CondQuant(alpha = c(.1, .5), x0 = y, zGrid = seq(0, 7, by = .1), z = dat$z, x = dat$x, bw.z = .1, bw.x = .05)
})
sapply(seq(0, 1, by = .1), function(y) {
CondQuant(alpha = c(.1, .5), x0 = y, zGrid = seq(0, 7, by = .1), z = dat$z, x = dat$x, b.z = .1, b.x = .05)
})
dat <- as_tibble(data.frame(x = x,
z = z))
x <- runif(n=1000,
min=0,
max=1)
z <- 3*x^2 + rgamma(n=length(x),
shape=1,
rate=2)
dat <- as_tibble(data.frame(x = x,
z = z))
ggplot(dat, aes(x=x, y=z)) +
geom_point(col='dodgerblue') +
theme_bw()
sapply(seq(0, 1, by = .1), function(y) {
CondQuant(alpha = c(.1, .5), x0 = y, zGrid = seq(0, 7, by = .1), z = dat$z, x = dat$x, b.z = .1, b.x = .05)
})
sapply(seq(0, 1, by = .01), function(y) {
CondQuant(alpha = c(.1, .5), x0 = y, zGrid = seq(0, 7, by = .1), z = dat$z, x = dat$x, b.z = .1, b.x = .05)
})
xRange <- seq(0, 1, .01)
quantileMat <- t(sapply(xRange, function(y) {
CondQuant(alpha=c(.1, .25, .5, .75, .9),
x0=y,
zGrid=seq(0, 7, .01),
z=dat$z,
x=dat$x,
b.z=.1,
b.x=.05)
}))
View(quantileMat)
c(quantileMat)
plot(c(quantileMat))
quantiles <- as_tibble(data.frame(x = rep(xRange, length(alphas)),
alpha = rep(alphas, each=length(xRange)),
quant = c(quantileMat)))
alphas <- c(.1, .25, .5, .75, .9)
quantiles <- as_tibble(data.frame(x = rep(xRange, length(alphas)),
alpha = rep(alphas, each=length(xRange)),
quant = c(quantileMat)))
View(quantiles)
